"use strict";function scrollFromTop(){return window.pageYOffset||document.documentElement.scrollTop}function positionAfterSend(e){return jQuery(window).height()/2+jQuery(e).height()+scrollFromTop()}function mfScrollStatic_Click(e){e.preventDefault();for(let t of e.data.fields)this[t]?document.getElementById(t).value=this[t].replace("_"," "):void 0!==this[t]&&(document.getElementById(t).value="");return jQuery("html, body").animate({scrollTop:jQuery("#mfForm_"+e.data.id).offset().top-100},2e3),!1}function mfOpenModal_Click(e){e.preventDefault(),console.log("this -> ",this);for(let t of e.data.fields)this[t]?document.getElementById(t).value=this[t].replace("_"," "):void 0!==this[t]&&(document.getElementById(t).value="");let t=e.data.id;document.getElementById("mfForm_"+t).showModal();let o="mfForm_"+t,a=jQuery(window).height(),i=jQuery("#"+o).height();return jQuery("#mfOverlay_"+t).fadeIn(400,function(){let e=0,t=0;i+50>=a?(e=scrollFromTop(),t=50):t=a/2-i/2+(e=0),t="0",jQuery("#"+o).css("display","block").animate({opacity:1,top:t,opacity:1,visibility:"visible"},400,()=>{jQuery(this).next(".mfOverlay");jQuery(this).css("padding",0).css("padding-right",0)}).css("opacity",1).css("top","200")}),!1}function mfCloseModal_Click(e){e.preventDefault();let t=e.data.id;jQuery("#mfOverlay_"+t).fadeOut(()=>{jQuery("#mfForm_"+t).animate({top:"-200%"},400).animate({opacity:0},400,function(){document.getElementById("mfForm_"+t).close()}).delay(400).modal("hide")})}var runingCloseModalForm=!1;function mfClickCloseModal(){runingCloseModalForm||(runingCloseModalForm=!0,jQuery(function(){jQuery(".mfOverlay, .mfClose").click(function(e){e.preventDefault();let t=jQuery(this).attr("data-id"),o="#mfForm_"+t,a="#mfOverlay_"+t;console.log(a,"HaHa"),jQuery(o).animate({top:0},200),jQuery(o).animate({opacity:0},300,function(){jQuery(this).css("display","none"),jQuery(a).fadeOut(400,function(){document.getElementById("mfForm_"+params.id).close()})})})}))}function hideBlockFormAfterSend(e,t,o,a,i){jQuery(".mfStatusDone.id"+e).html(i);let r=jQuery(window).height(),l=jQuery(".mfStatusDone.id"+e).height(),n=(scrollFromTop(),r/2-l/2);n=0,jQuery("#mfForm_"+e).animate({top:0},400,function(){jQuery(".mfStatusForm.id"+e).fadeOut(400,function(){}),setTimeout(function(){jQuery("#mfForm_"+e).animate({top:-0},400,function(){jQuery(this).fadeOut(400,function(){document.getElementById("mfForm_"+e).close()}),jQuery("#mfOverlay_"+e).fadeOut()})},1e4)})}function hideAndClearFormAfterSend(e,t,o,a,i){jQuery(".mfStatusDone.id"+e).html(i);let r=jQuery(window).height()/2-jQuery(".mfStatusDone.id"+e).height()/2+scrollFromTop();r=0,jQuery("#mfForm_"+e).animate({top:0},400,function(){setTimeout(function(){jQuery("#mfForm_"+e).animate({top:-0},400,function(){jQuery(this).fadeOut(400,function(){document.getElementById("mfForm_"+e).close()}),jQuery("#mfOverlay_"+e).fadeOut(400,function(){jQuery(".mfStatusDone.id"+e).fadeOut(),jQuery(".mfStatusForm.id"+e).fadeIn(),jQuery(".mfStatusForm.id"+e).get(0).reset(),jQuery("#mfForm_"+e+" input[id^=submit]").button("ready")})})},1e4)})}function hideBlockStaticFormAfterSend(e,t,o,a){jQuery(".mfStatusDone.id"+e).html(a),jQuery(".mfStatusForm.id"+e).fadeOut(400,function(){jQuery(".mfStatusDone.id"+e).fadeIn(400)})}function hideAndClearStaticFormAfterSend(e,t,o,a,i){jQuery(".mfStatusDone.id"+e).html(a),jQuery(".mfStatusForm.id"+e).fadeOut(400,function(){jQuery(".mfStatusDone.id"+e).fadeIn(400,function(){setTimeout(function(){jQuery(".mfStatusDone.id"+e).fadeOut(400,function(){jQuery(".mfStatusForm.id"+e).fadeIn(400,function(){jQuery(".mfStatusForm.id"+e)[0].reset(),jQuery("#mfForm_"+e+" input[id^=submit]").button("ready")})})},8e3)})})}function mfAjaxDoneSuccess(e,t){this.deb&&console.log("Send Success! html:",[e]),this.deb&&console.log("Send Success! status:",t);let o=window["funcAfter"+this.id];o&&"function"==typeof o&&o.apply(this);let a=positionAfterSend("#mfForm_"+this.id);console.log("posAfterSend",a),console.log("# "+this.id," FormDone.");let i=this;"popup"===this.type&&jQuery("#mfForm_"+this.id).animate({top:-a},400,function(){jQuery(".mfStatusForm.id"+i.id+",.modal-footer.id"+i.id+", .mfBeforeText.id"+i.id).fadeOut("500",function(){jQuery(".mfStatusDone.id"+i.id).fadeIn("500"),i.clearaftersend?hideAndClearFormAfterSend(i.id,"#mfForm_"+i.id,"#mfOverlay_"+i.id,".mfStatusDone.id"+i.id,e):hideBlockFormAfterSend(i.id,"#mfForm_"+i.id,"#mfOverlay_"+i.id,".mfStatusDone.id"+i.id,e)})}),"static"===this.type&&jQuery(".mfStatusForm.id"+i.id+",.static-footer.id"+i.id+", .mfBeforeText.id"+i.id).fadeOut("500",function(){jQuery(".mfStatusDone.id"+i.id).fadeIn("500"),i.clearaftersend?hideAndClearStaticFormAfterSend(i.id,"#mfForm_"+i.id,".mfStatusDone.id"+i.id,e,jQuery("input#submit"+i.id).attr("value")):hideBlockStaticFormAfterSend(i.id,"#mfForm_"+i.id,".mfStatusDone.id"+i.id,e),mfScrollStatic_Click.call(i,{data:i,first:!0,preventDefault:function(){return i.deb&&console.log("🏆 mfScrollStatic_Click ","#mfForm_form_"+i.id,i),!0}})})}function mfButtonSubmit_Click(e){e.data.deb&&console.log("--------- --------- Click Send ---------");let t=e.data;e.first&&e.preventDefault();let o=window["funcBefore"+t.id];o&&"function"==typeof o&&o.apply(t),console.log("🏆 mfButtonSubmit_Click ","#mfForm_form_"+e.data.id,e.data,jQuery("#mfForm_form_"+t.id)),jQuery("#mfForm_form_"+t.id).validate({debug:!1,invalidHandler:function(e,t){console.log("👎 --------- --------- Validate Faile ---------",t)},submitHandler:submitHandler.bind(t)})}function submitHandler(form){const params=this;if(params.deb&&console.log("--------- --------- ---------"),params.deb&&console.log("(I)  :-)  - submitHandlerValidate!!!!!->  ()  Captcha:",params.captcha?"Yes🌟":"No🚫",params.captcha,params),"recaptcha"==params.captcha&&!1!==params.grecaptcha){if(params.response=grecaptcha.getResponse(params.WidgetId),params.response&&(console.log("(II) Execute() -submitHandler-CallBack!!!!!-> Token"," This:",this," Module:",params),submitHandlerSubmit.call(params,form),params.xCallback&&params.xCallback.trim()))try{let callback=params.xCallback.trim();eval(callback+"()")}catch(e){}return!1}if("recaptcha_invisible"!=params.captcha||!1===params.grecaptcha){if("recaptcha_invisible"!=params.captcha||!1!==params.grecaptcha)return params.captcha&&!1!==params.grecaptcha?void(params.deb&&console.log("👎 Captcha NULL !!!    <--------- captcha:",params.captcha,"  grecaptcha:",params.grecaptcha)):(params.deb&&console.log("(II) Valid() -submitHandler-CallBack!!!!!-> "," This:",this," Module:",params),void submitHandlerSubmit.call(params,form));params.deb&&console.log("(II) Valid() -submitHandler-CallBack!!!!!-> "," This:",this," Module:",params)}else{let e=this;grecaptcha.execute(params.grecaptcha).then(function(e){params.token=e,console.log("(II) Execute() -submitHandler-CallBack!!!!!-> Token",e," This:",this," Module:",params)})}}function submitHandlerSubmit(e){this.deb&&console.log("(III)  submitHandlerSubmit() -Execute-CallBack!!!!!-> ",this),jQuery("#submit_"+this.id).button("sending").css("text-transform","none").css("transform","none").addClass("active");let t=0;for(let e of document.body.classList)"itemid-"===e.toString().substr(0,7)&&(t=e.toString().substr(7));var o=new FormData(e);o.append("option","com_ajax"),o.append("module","multi_form"),o.append("format","raw"),o.append("id",this.id),o.append("page",document.location.href),o.append("title",document.title),o.append("Itemid",t),this.token&&o.set("gToken",this.token),this.response&&o.set("gToken",this.response),void 0!==this.sitekey&&o.append("sitekey",this.sitekey),void 0!==this.grecaptcha&&o.append("grecaptcha",this.grecaptcha),this.response&&o.append("g-recaptcha-response",this.response),this.deb&&console.log("--------- --------- ---------");for(let e of this.fields)if("file"===e.substring(0,4))for(let t of document.getElementById(e).files)o.append(e,t);let a=o.values(),i=o.entries();console.log("data:",a," etrs:",Object.fromEntries(i));let r=window.location.origin+"/index.php";r=document.baseURI+"index.php",this.deb&&console.log("Url Submit:",r),this.deb&&console.log("Ajax request ModuleID:",this.id," ",o),this.deb&&console.log(o),jQuery.ajax({type:"POST",url:r,dataType:"html",data:o,context:this,cache:!1,contentType:!1,processData:!1}).done(mfAjaxDoneSuccess).fail(mfAjaxFailForm)}function mfAjaxDoneForm(e,t){if(console.log(this.buttons),"popup"===this.type){if(jQuery("body").append(jQuery(e)),jQuery("#mfClose_"+this.id).click(this,mfCloseModal_Click),jQuery("#mfOverlay_"+this.id).click(this,mfCloseModal_Click),jQuery("dialog#mfForm_"+this.id+".mfForm_modal").animate({top:"-200%"},400).fadeOut().modal("hide"),document.getElementById("mfForm_"+this.id).close(),jQuery(".modal-backdrop.show").click(function(){jQuery(".mfOverlay").fadeOut(),jQuery("dialog.mfForm_modal").animate({top:"-200%"},400).fadeOut().modal("hide"),jQuery(this).hide()}),this.buttons.length>0)for(let e of this.buttons)console.log(e),jQuery(e).click(this,mfOpenModal_Click);let t={data:this,preventDefault:()=>{}};document.addEventListener("keydown",e=>{"Escape"===e.code&&(e.preventDefault(),mfCloseModal_Click(t))})}else if(jQuery("#mod_"+this.id).append(jQuery(e)),this.buttons.length>0)for(let e in this.buttons)jQuery(e).click(this,mfScrollStatic_Click);this.deb&&console.log("🏆 ButtonSubmit.Click(f()) id:"+this.id+" Tag:"+this.tag+" Type:"+this.type+" - Load form Success! - Done! status:",t," ",this),mfButtonSubmit_Click.call(this,{data:this,first:!0,preventDefault:function(){return this.deb&&console.log("🏆 mfButtonSubmit_Click ","#mfForm_form_"+this.id,this),!0}}),jQuery("input#submit_"+this.id).each(function(e,t){}).click(this,mfButtonSubmit_Click),this.deb&&console.log("🏆 Module id:"+this.id+" Tag:"+this.tag+" Type:"+this.type+" - Load form Success! - Done! status:",t)}function mfAjaxFailForm(e,t,o){console.log(e.responseText),this.deb&&console.log("👎 Module id:"+this.id+" Tag:("+this.tag+"), Type:"+this.type+" - Load form Fail! - Disabled button! status:",t,"\n this:",this," jqXHR:",e,"\n errorThrown:",o),jQuery("#"+this.button).hide()}function mfGetUrlHash(e){let t=0,o={};Object.assign(o,jQuery.url("#",e));let a=jQuery.url("hash",e)||"",i=a.indexOf("&");return i<1&&(i=void 0),t=a.startsWith("mfForm_form_")?a.substring(12,i):t,t=a.startsWith("mfForm_")?a.substring(7,i):t,t=a.startsWith("mod_")?a.substring(4,i):t,t=a.startsWith("mod")?a.substring(3,i):t,o.id=t||!1,o.path=jQuery.url("path",e),o.hostname=jQuery.url("hostname",e),o.query=jQuery.url("query",e),o.url=jQuery.url("",e),o}function mfGetModuleById(e){return jQuery(".mfForm.id"+e).data()||!1}function mfGotoModule(e,t){for(let o of e.fields)t[o]&&(document.getElementById(o).value=t[o]);"static"===e.type&&mfScrollStatic_Click.call(e,{data:e,first:!0,preventDefault:function(){return e.deb&&console.log("🏆 mfScrollStatic_Click ","#mfForm_form_"+e.id,e),!0}}),"popup"===e.type&&mfOpenModal_Click.call(e,{data:e,first:!0,preventDefault:function(){return e.deb&&console.log("🏆 mfOpenModal_Click ","#mfForm_form_"+e.id,e),!0}})}function mfGetAllActions(){return jQuery("a:not(.mfGo)").filter(function(){let e=this.getAttribute("href");return!!e&&!(-1===e.indexOf("#")||e.length<4)}).map(function(){let e=mfGetUrlHash(this.getAttribute("href"));return e.control=this,e}).filter(function(){return this.id}).get()}function mfGetAllModules(){let e={},t=jQuery(".mfForm").map(function(){let e=jQuery(this).data();return e.control=this,e});for(let o of t)o.type&&(e[o.id]=o);return e}function mfAjaxCompleteAllForm(p1){let mods=Array.isArray(this)?this:[this];for(let module of mods)if(module.captcha){let captcha_type=module.captcha;Object.assign(module,jQuery("#dynamic_captcha_"+module.id).data()),module.WidgetId=module.grecaptcha=!1;let Captcha_Render=()=>{module.WidgetId=module.grecaptcha=grecaptcha.render("dynamic_captcha_"+module.id,{callback:function(response){module.response=response;let form=document.getElementById("mfForm_form_"+module.id);if(console.log("(II) CallBack() !!!!!->","#dynamic_captcha_"+module.id,module.captcha,module," Form:",form),response)if("recaptcha"!=module.captcha){if(submitHandlerSubmit.call(module,form),console.log("(IV)  Response-CallBack!!!!! --\x3e R:",response," M:",module),module.xCallback&&module.xCallback.trim())try{let callback=module.xCallback.trim();eval(callback+"()")}catch(e){}}else mfButtonSubmit_Click.call(module,{data:module,first:!0,preventDefault:function(){return this.deb&&console.log("🏆 mfButtonSubmit_Click ","#mfForm_form_"+this.id,this),!0}})},"expired-callback":function(response){if(module.xExpiredCallback&&module.xExpiredCallback.trim())try{let callback=module.xExpiredCallback.trim();eval(callback+"()")}catch(e){}console.log("(-II)  Delay-CallBack!!!!!--\x3eR:",response," M:",module,"this:",mods)},"error-callback":function(response){if(module.xErrorCallback&&module.xErrorCallback.trim())try{let callback=module.xErrorCallback.trim();eval(callback+"()")}catch(e){}console.log("(-II)  Error-CallBack!!!!!--\x3eR:",response," M:",module,"this:",mods)}})},timerId=0;timerId=setInterval(()=>{grecaptcha&&(clearInterval(timerId),module.grecaptcha||Captcha_Render())},1e3)}console.log("jQuery.validator.messages",jQuery.validator.messages);let tinyeditor=()=>!1;"object"==typeof tinymce&&(tinyeditor=function(){tinymce.init({selector:".joomla-editor-tinymce",menubar:!1,toolbar:"undo redo | formatselect | bold italic backcolor strikethrough | removeformat  pastetext | alignleft aligncenter alignright alignjustify   | bullist numlist table outdent indent ",plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code   wordcount"]})});let userLang=navigator.language||navigator.userLanguage,edit_path=Joomla.iframeButtonClick?"/media/vendor/tinymce/tinymce.min.js":document.location.origin+"/media/editors/tinymce/tinymce.min.js",lang_path=Joomla.iframeButtonClick?"/media/vendor/tinymce/langs/"+userLang+".js":document.location.origin+"/media/editors/tinymce/langs/"+userLang+".js";jQuery.getScript(edit_path).always(e=>jQuery.getScript(lang_path).always(tinyeditor));let hash=mfGetUrlHash(),module=!!hash.id&&mfGetModuleById(hash.id);module&&mfGotoModule(module,hash);let actions=mfGetAllActions(),modules=mfGetAllModules();for(let e of actions){if(!(e.id in modules))continue;let t=modules[e.id];e.module=t,(e.url.startsWith("#")||(hash.hostname===e.hostname||""===e.hostname)&&(hash.path===e.path||["","/","index.php","/index.php"].includes(hash.path)&&["","/","index.php","/index.php"].includes(e.path))&&hash.query===e.query)&&("static"===modules[e.id].type&&(jQuery(e.control).click(function(t){return t.preventDefault(),mfScrollStatic_Click.call(e,{data:modules[e.id],first:!0,preventDefault:function(){return!0}}),!1}),1)||"popup"===modules[e.id].type&&jQuery(e.control).click(function(t){return t.preventDefault(),mfOpenModal_Click.call(e,{data:modules[e.id],first:!0,preventDefault:function(){return!0}}),!1}))}console.log("🏆🏆🏆🏆🏆🏆🏆🏆 Module :",mods),jQuery(":input").inputmask()}jQuery(function(){let e={},t=0;for(let e of document.body.classList)"itemid-"===e.toString().substr(0,7)&&(t=e.toString().substr(7));jQuery.when(...jQuery(".mfForm").filter(function(t,o){let a=jQuery(o).data();return!!a.id&&(a.button=jQuery(o).get(0).id,a.tag=jQuery(o).get(0).tagName,a.id in e||(e[a.id]=[]),["a","button","A","BUTTON"].includes(a.tag)&&e[a.id]&&e[a.id].push(o),"mod_"+a.id===a.button&&(a.buttons=e[a.id],o.params=a,!0))}).sort((e,t)=>e.dataset.captcha.length-t.dataset.captcha.length).map(function(e,o){let a=window.location.origin+"/index.php";a=document.baseURI+"index.php";let i={id:o.params.id,format:"raw",module:"multi_form",option:"com_ajax",method:"getForm",Itemid:t};return jQuery.ajax({type:"POST",url:a,dataType:"html",data:i,context:o.params}).done(mfAjaxDoneForm).fail(mfAjaxFailForm)})).done(mfAjaxCompleteAllForm)});